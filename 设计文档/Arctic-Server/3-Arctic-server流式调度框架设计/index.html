<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="记录工作和学习文档">
    
    
    <link rel="shortcut icon" href="../../../img/favicon.ico">

    
    <title>3 Arctic server流式调度框架设计 - 我的笔记</title>
    

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/v4-shims.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.min.css">
    <link href='//rsms.me/inter/inter.css' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="../../../css/base.min.css" rel="stylesheet">
    <link href="../../../css/cinder.min.css" rel="stylesheet">

    
        
        <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/styles/github.min.css">
        
    

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]-->

    

     
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->

            
              <a class="navbar-brand" href="../../..">我的笔记</a>
            
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../../../keymap/">快捷方式</a>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">文章 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">大数据</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../%E6%96%87%E7%AB%A0/%E5%A4%A7%E6%95%B0%E6%8D%AE/alluxio/">Alluxio</a>
</li>

        
            
<li >
    <a href="../../../%E6%96%87%E7%AB%A0/%E5%A4%A7%E6%95%B0%E6%8D%AE/hudi/">Hudi</a>
</li>

        
            
<li >
    <a href="../../../%E6%96%87%E7%AB%A0/%E5%A4%A7%E6%95%B0%E6%8D%AE/spark-streaming/">Spark</a>
</li>

        
            
<li >
    <a href="../../../%E6%96%87%E7%AB%A0/%E5%A4%A7%E6%95%B0%E6%8D%AE/yarn/">Yarn</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">数据库</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../%E6%96%87%E7%AB%A0/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8A%80%E6%9C%AF/Canal%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/">Canal</a>
</li>

        
            
<li >
    <a href="../../../%E6%96%87%E7%AB%A0/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8A%80%E6%9C%AF/LogMiner/">LogMinor</a>
</li>

        
            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">MySQL</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../%E6%96%87%E7%AB%A0/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8A%80%E6%9C%AF/MySQL%20GTID%20set%E5%A4%84%E7%90%86%E6%8A%80%E6%9C%AF/">GTID</a>
</li>

        
    </ul>
  </li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">日记</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../%E6%96%87%E7%AB%A0/%E6%97%A5%E8%AE%B0/A-Voyager_%E8%B5%B7%E8%88%AA/">起航</a>
</li>

        
            
<li >
    <a href="../../../%E6%96%87%E7%AB%A0/%E6%97%A5%E8%AE%B0/Diary-%E8%88%AA%E8%A1%8C%E6%97%A5%E5%BF%97/">航行日志</a>
</li>

        
            
<li >
    <a href="../../../%E6%96%87%E7%AB%A0/%E6%97%A5%E8%AE%B0/Engine-1_%E5%86%A5%E6%83%B3%E4%BD%93%E6%82%9F/">Engine1-冥想</a>
</li>

        
            
<li >
    <a href="../../../%E6%96%87%E7%AB%A0/%E6%97%A5%E8%AE%B0/Engine-3_%E5%B1%80%E5%A4%96%E4%BA%BA/">Engine3-局外人</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">java <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../%E6%96%87%E7%AB%A0/java%E6%8A%80%E6%9C%AF/idea/">IDEA</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li >
                        <a href="../../../ToDo/">ToDo</a>
                    </li>
                
                
                
                    <li >
                        <a href="https://github.com/arcticXXX">GitHub</a>
                    </li>
                
                
                </ul>

            <ul class="nav navbar-nav navbar-right">
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="first-level active"><a href="#arctic-server">Arctic-server流式调度框架设计</a></li>
            <li class="second-level"><a href="#_1">需求</a></li>
                
            <li class="second-level"><a href="#_2">方案设计</a></li>
                
                <li class="third-level"><a href="#_3">概述</a></li>
                <li class="third-level"><a href="#flink-job">flink-Job执行流程描述</a></li>
                <li class="third-level"><a href="#_4">功能详细设计</a></li>
                <li class="third-level"><a href="#_5">其他问题说明</a></li>
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<p>[toc]</p>
<h1 id="arctic-server">Arctic-server流式调度框架设计<a class="headerlink" href="#arctic-server" title="Permanent link">&para;</a></h1>
<h2 id="_1">需求<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<ul>
<li>充分利用当前资源持续执行文件合并</li>
<li>commit频率不能太高</li>
<li>不同表有优先级</li>
<li>可以兼容Major/Minor-Compaction（统一称为compaction）</li>
</ul>
<p>采用流任务的原因</p>
<ul>
<li>提高operator资源的利用率</li>
</ul>
<p>待解决问题：</p>
<p>arctic-server集中commit，认证问题</p>
<h2 id="_2">方案设计<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<ul>
<li>允许一个或多个流任务同时运行</li>
<li>每个流任务可以同时处理多张表的compaction</li>
<li>一张表的compaction可拆分给多个流任务同时执行</li>
</ul>
<p>执行方式选择：</p>
<ul>
<li>
<p>Session-mode：节省JobManager资源（推荐）</p>
</li>
<li>
<p>Application-mode：更好的隔离性</p>
</li>
</ul>
<h3 id="_3">概述<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<p>基于Session-mode的调度框架如下图所示：</p>
<p>CompactionJob从CompactionQueue中消费CompactionTask（Http接口），执行后将CompactionResult上报给Arctic-Server（Http接口），由Arctic-Server进行Commit。</p>
<p><strong>Compaction队列</strong>：Arctic Server（CompactionManager模块）中维护Compaction队列（如图左上角所示queue，队列中的元素是CompactionTask，队列可以有多个）。</p>
<p><strong>JobManager-CompactionJob</strong>：Session-mode下，每个JobManager上可以运行多个Compaction Job，在本期实现中，每个yarn集群部署一个JobManager即可（保留后续版本可以支持多个的可能），每个Compaction Job可以单独决定从哪个queue消费数据，queueId作为Job的配置。</p>
<p>Compaction Queue与Compaction Job二者的管理是解耦的，二者的关联仅仅在于Compaction Job需要设置从哪个Compaction Queue（queueId）消费数据，Compaction Queue不需要知道下游的消费者。</p>
<p><img alt="image-20210311114446437" src="https://tinkerer-pic.oss-cn-hangzhou.aliyuncs.com/picgo/image-20210311114446437.png" /></p>
<p><strong>整体调度方案示意图</strong></p>
<p><img alt="image-20210305152734312" src="https://tinkerer-pic.oss-cn-hangzhou.aliyuncs.com/picgo/image-20210305152734312-5257407.png" /></p>
<p><strong>flink-Job执行流程示意图</strong></p>
<h3 id="flink-job">flink-Job执行流程描述<a class="headerlink" href="#flink-job" title="Permanent link">&para;</a></h3>
<h4 id="1compaction-task">1.生成compaction task<a class="headerlink" href="#1compaction-task" title="Permanent link">&para;</a></h4>
<p>由arctic-server的Scheduler模块生成CompactionTask写入Compaction Queue，task的状态为Pending，请求的生成机制有两个：</p>
<ul>
<li>arctic-server在TableMeta中周期性检查生成</li>
<li>arctic-server接收外部的commit请求（包含新增的文件，触发compaction条件后生成task）</li>
</ul>
<h4 id="2source">2.source<a class="headerlink" href="#2source" title="Permanent link">&para;</a></h4>
<p>流入：FROM CompactionQueue，source从CompactionQueue获取task后，Arctic-Server更新task状态为Executing，并记录执行task的JobId</p>
<p>http接口：https://nei.hz.netease.com/interface/detail/?pid=56368&amp;id=347387</p>
<p>执行：将task交给下游operator执行compaction</p>
<p>流出：TO operator</p>
<h4 id="3compact-operator">3.compact operator<a class="headerlink" href="#3compact-operator" title="Permanent link">&para;</a></h4>
<p>流入：FROM source</p>
<p>执行：根据task要求，合并特定文件</p>
<p>流出：TO sink，合并的结果（成功/失败：报错信息）</p>
<h4 id="4sink">4.sink<a class="headerlink" href="#4sink" title="Permanent link">&para;</a></h4>
<p>流入：FROM operator，合并的结果</p>
<p>执行：调用Arctic-Server接口返回合并的结果</p>
<p>流出：合并的结果</p>
<p>http接口：https://nei.hz.netease.com/interface/detail/req/?pid=56368&amp;id=343691</p>
<h3 id="_4">功能详细设计<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<h4 id="compaction-queue">Compaction Queue<a class="headerlink" href="#compaction-queue" title="Permanent link">&para;</a></h4>
<p>Compaction队列（CompactionQueue）主要起到缓存作用，也可以依托Compaction队列做优先级管理。</p>
<p>类1：CompactQueueMeta</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>队列唯一标识</td>
<td>queueId</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>队列最大长度</td>
<td>capacity</td>
<td>int</td>
<td></td>
</tr>
</tbody>
</table>
<p>功能点：</p>
<ul>
<li>arctic-server维护表和Compaction队列的映射关系（作为表的属性，有默认的default队列）</li>
<li>新增Compaction队列，新增Compaction队列会到集群启动JobManager</li>
<li>删除Compaction队列，删除Compaction队列的前提条件，队列上面的task已经清除，且没有表与task存在映射关系</li>
<li>Compaction队列参数：队列ID、队列最大长度</li>
<li>修改表与Compaction队列的映射关系，将旧的队列上的这张表的Pending状态的task迁移到新的映射队列上，其他task不受影响</li>
<li>队列达到最大长度之后：阻塞task写入</li>
</ul>
<h4 id="compaction-job">Compaction Job<a class="headerlink" href="#compaction-job" title="Permanent link">&para;</a></h4>
<p>CompactionJob是compation的实际执行者，Arctic-server可以将大部分CompactionJob的管理工作交给flink来做，arctic-server对CompactionJob的特殊要求有两个</p>
<ul>
<li>需要提供Job的唯一标识（在调用消费、上报接口时提供）</li>
<li>启动CompactionJob时指定queueId（在调用消费、上报接口时提供）</li>
</ul>
<p>CompactionJob</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Job唯一标识</td>
<td>jobId</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>队列ID</td>
<td>queueId</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>并发度</td>
<td>parallelism</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>其他flink-job参数</td>
<td>properties</td>
<td>Map<String,String></td>
<td></td>
</tr>
</tbody>
</table>
<p>CompactionJobRuntime</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Job唯一标识</td>
<td>jobId</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>每个Compaction Job可以独立配置并发度等参数</li>
<li>Compaction Job无状态（不依赖checkpoint）</li>
<li>Compaction Job支持新增</li>
<li>最好有：Compaction Job可以主动下线，flink上Cancel Job，在Arctic-Server中将执行在这台Job上的Task状态设置为Pending（可以将任务立刻调度给其他Job执行，不用等到超时后再调度）</li>
</ul>
<h4 id="compaction-task">Compaction Task<a class="headerlink" href="#compaction-task" title="Permanent link">&para;</a></h4>
<p>CompactionTask是执行的基本单元，本质上是将一批文件合并为另一批文件，每个CompactionTask的执行都是独立的，不受其他Task的影响。</p>
<p>CompactionTask</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Task唯一标识</td>
<td>taskId</td>
<td>long</td>
<td></td>
</tr>
<tr>
<td>Task类型</td>
<td>type</td>
<td>CompactionTaskType</td>
<td>Minor/Major</td>
</tr>
<tr>
<td>表信息</td>
<td>table</td>
<td>ArcticTable</td>
<td></td>
</tr>
<tr>
<td>合并的文件列表</td>
<td>files</td>
<td>List<DeltaFile></td>
<td></td>
</tr>
<tr>
<td>写入的节点</td>
<td>target</td>
<td>List<TreeNode></td>
<td></td>
</tr>
<tr>
<td>生成时间</td>
<td>createTime</td>
<td>long</td>
<td></td>
</tr>
<tr>
<td>其他参数</td>
<td>properties</td>
<td>Map<String,String></td>
<td></td>
</tr>
</tbody>
</table>
<p>CompactionTaskRunTime</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Task唯一标识</td>
<td>taskId</td>
<td>long</td>
<td></td>
</tr>
<tr>
<td>Task类型</td>
<td>type</td>
<td>CompactionTaskType</td>
<td>Minor/Major</td>
</tr>
<tr>
<td>状态</td>
<td>status</td>
<td>CompactStatus</td>
<td></td>
</tr>
<tr>
<td>执行任务ID</td>
<td>jobId</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>失败重试次数</td>
<td>retry</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>失败原因</td>
<td>failReason</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>失败时间</td>
<td>failTime</td>
<td>long</td>
<td></td>
</tr>
<tr>
<td>合并完成时间</td>
<td>preparedTime</td>
<td>long</td>
<td></td>
</tr>
<tr>
<td>commit时间</td>
<td>commitTime</td>
<td>long</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>CompactionResult</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Task唯一标识</td>
<td>taskId</td>
<td>long</td>
<td></td>
</tr>
<tr>
<td>Task类型</td>
<td>type</td>
<td>CompactionTaskType</td>
<td>MINOR/MAJOR</td>
</tr>
<tr>
<td>合并结果</td>
<td>result</td>
<td>Result</td>
<td>Success/Failed</td>
</tr>
<tr>
<td>替代的文件</td>
<td>replacedFiles</td>
<td>List<DeltaFile></td>
<td></td>
</tr>
<tr>
<td>合并后的文件列表</td>
<td>resultFiles</td>
<td>List<DeltaFile></td>
<td></td>
</tr>
<tr>
<td>合并完成时间</td>
<td>preparedTime</td>
<td>long</td>
<td></td>
</tr>
<tr>
<td>失败原因</td>
<td>failReason</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>失败时间</td>
<td>failTime</td>
<td>long</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>触发compaction检查时生成</li>
<li>有状态（status）：Init Pending Executing Failed Prepared Committed</li>
<li>task内容修改：处于Pending状态的task，会被下次compaction检查时覆盖内容</li>
<li>task生命周期结束：在commit完成后结束，多个compaction task聚合为一个CompactionRecord计入MySQL，CompactionRecord超过一定时间后自动删除（分区表自动清理）</li>
</ul>
<h3 id="_5">其他问题说明<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<h4 id="compactioncompaction">问题一：如何避免对尚未完成的compaction文件重复发起compaction调度？<a class="headerlink" href="#compactioncompaction" title="Permanent link">&para;</a></h4>
<p>arctic-server CompactionManager可以查到当前正在执行中（Executing/Prepared）的文件集合，Scheduler触发compaction检查时跳过这些文件；</p>
<p>对于major-compaction，如果分区有正在执行的major-compaction-task，则整个分区跳过检查</p>
<h4 id="_6">问题五：状态查看<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h4>
<p>历史状态：历史执行的minor compaction record，每次commit生成一次minor compaction record，多个minor-compaction task合并为一个minor compaction record</p>
<p>当前状态：CompactionManager中维护了compaction task，可以访问compaction task</p>
<h4 id="task">问题六：失败task处理<a class="headerlink" href="#task" title="Permanent link">&para;</a></h4>
<p>处于Failed状态的task可以触发重试，由单独的线程定期（5s）检查所有Task将失败的task重新放入队列中，队列中Failed任务可以像Pending任务一样被source获取到。失败的任务重新放入队列的前提条件是</p>
<ul>
<li>当前时间&gt;failTime+全局配置的重试间隔</li>
<li>retry次数&lt;全局配置的最大重试次数（3次）</li>
</ul>
<p>为了避免重试的任务和之前的任务出现上报混乱，每次执行都分配一个唯一的attemptId，task只接受与当前attemptId相同的上报</p>
<h4 id="taskarctic-server">问题七：task状态更新异常处理（arctic-server的状态补偿）<a class="headerlink" href="#taskarctic-server" title="Permanent link">&para;</a></h4>
<p>flink job调用Arctic Server接口更新task状态时出现异常，重试后忽略异常，不阻塞后续compaction过程；</p>
<p>Arctic Server需要有状态补偿机制：如果长时间（需要一个全局的时间阈值参数）处于执行中（Executing）状态的文件，将状态改为Failed，触发自动重试；</p>
<h4 id="_7">问题八：优先级控制<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h4>
<p>(本次方案先不考虑优先级的实现，按照FIFO设计)</p>
<p>优先级是高度个性化的配置，优先执行的需求来源于用户，也避免不了用户手动设置</p>
<p>两个层面的问题需要解决：如何确定优先级，以及如何根据优先级调度</p>
<p>如何确定优先级：</p>
<ul>
<li>
<p>简单的方案，区分高优先级和低优先级，作为表的属性（采用，需要用户配置）</p>
</li>
<li>
<p>复杂的方案，每一个task都有优先级，根据表的优先级、碎片化程度等指标确认优先级</p>
</li>
</ul>
<p>根据优先级调度：</p>
<ul>
<li>简单的方案：Compaction队列之间区分优先级，单独开放Compaction队列给高优先级的表使用（采用，需要平台配置）</li>
<li>复杂的方案：Compaction队列内部区分优先级，队列采用优先队列（需要对每个task进行优先级评估，还要避免饿死的问题）</li>
</ul>
<p>在简单的方案下，用户不需要了解优先级的概念，只需要为需要优先执行的表配置单独的Compaction队列即可</p>
<p>在复杂的方案下，需要为每个task设置优先级，计算方式是：</p>
<ul>
<li>先比较表的优先级，表优先级高的task优先级高</li>
<li>相同表优先级的，再比较task优先级，task优先级=task要处理的小文件个数</li>
</ul></div>
        
        
    </div>

    
      <footer class="col-md-12 text-center">
          
          
            <hr>
            <p>
            <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</small>
            </p>
          

          
          
      </footer>
    
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="../../../js/bootstrap-3.0.3.min.js"></script>

    
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/highlight.min.js"></script>
        
    <script>hljs.initHighlightingOnLoad();</script>
    

    <script>var base_url = "../../.."</script>
    
    <script src="../../../js/base.js"></script>

    <div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    </body>

</html>
